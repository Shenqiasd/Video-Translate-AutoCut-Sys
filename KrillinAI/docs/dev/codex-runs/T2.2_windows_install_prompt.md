# Codex Task T2.2: Windows auto-install deps (ffmpeg/ffprobe/yt-dlp)

Repo: `Video-Translate-AutoCut-Sys/KrillinAI`
Branch: `feat/desktop-native-step1-appcore`

## Goal

On Windows portable build, when user clicks "Fix/Install" in dependency panel, download and install required binaries into `CacheDir` and refresh status.

## Requirements

- Target binaries: ffmpeg, ffprobe, yt-dlp.
- Install location: `CacheDir/bin/<tool>/<tool>.exe` (or similar). Update `internal/storage` paths accordingly.
- Download sources: choose stable public URLs (GitHub releases) and pin versions; include SHA256 checksums.
- Validate checksum after download.
- Extract archives if needed (zip).
- Provide progress callbacks so UI can show progress.
- UI action: wire existing Fix/Install button to run installer asynchronously, then re-resolve dependencies.
- Must not require admin privileges.
- Tests: unit test URL selection + checksum verification + path layout (mock HTTP using httptest).

## Files

- `internal/deps/checker.go` (existing path setters)
- `internal/deps/resolver.go` (already exists)
- Desktop UI code in `internal/desktop/ui.go` (or where the dep panel lives)

## Validation

- `go test ./...` passes
